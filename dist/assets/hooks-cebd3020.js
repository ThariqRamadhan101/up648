import{r as a,R as T,e as Ne}from"./index-d6419b83.js";import{u as ee}from"./store-70d728d0.js";var Ze=Object.defineProperty,et=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t,n)=>(et(e,typeof t!="symbol"?t+"":t,n),n);let tt=class{constructor(){ge(this,"current",this.detect()),ge(this,"handoffState","pending"),ge(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},V=new tt,C=(e,t)=>{V.isServer?a.useEffect(e,t):a.useLayoutEffect(e,t)};function k(e){let t=a.useRef(e);return C(()=>{t.current=e},[e]),t}function Be(e,t){let[n,r]=a.useState(e),i=k(e);return C(()=>r(i.current),[i,r,...t]),n}let g=function(e){let t=k(e);return T.useCallback((...n)=>t.current(...n),[t])};function nt(e,t,n){let[r,i]=a.useState(n),o=e!==void 0,l=a.useRef(o),s=a.useRef(!1),u=a.useRef(!1);return o&&!l.current&&!s.current?(s.current=!0,l.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&l.current&&!u.current&&(u.current=!0,l.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:r,g(c=>(o||i(c),t==null?void 0:t(c)))]}function rt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function B(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return rt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=B();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function _(){let[e]=a.useState(B);return a.useEffect(()=>()=>e.dispose(),[e]),e}function ot(){let e=typeof document>"u";return"useSyncExternalStore"in Ne?(t=>t.useSyncExternalStore)(Ne)(()=>()=>{},()=>!1,()=>!e):!1}function Re(){let e=ot(),[t,n]=a.useState(V.isHandoffComplete);return t&&V.isHandoffComplete===!1&&n(!1),a.useEffect(()=>{t!==!0&&n(!0)},[t]),a.useEffect(()=>V.handoff(),[]),e?!1:t}var De;let se=(De=T.useId)!=null?De:function(){let e=Re(),[t,n]=T.useState(e?()=>V.nextId():null);return C(()=>{t===null&&n(V.nextId())},[t]),t!=null?""+t:void 0};function F(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,F),r}function qe(e){return V.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Ae=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var it=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(it||{}),lt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(lt||{}),at=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(at||{}),Le=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Le||{});function Ve(e,t=0){var n;return e===((n=qe(e))==null?void 0:n.body)?!1:F(t,{0(){return e.matches(Ae)},1(){let r=e;for(;r!==null;){if(r.matches(Ae))return!0;r=r.parentElement}return!1}})}var ut=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ut||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function st(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ct(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function dt(){return/Android/gi.test(window.navigator.userAgent)}function ft(){return ct()||dt()}function ie(e,t,n){let r=k(t);a.useEffect(()=>{function i(o){r.current(o)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function pt(e,t,n){let r=k(t);a.useEffect(()=>{function i(o){r.current(o)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function vt(e,t,n=!0){let r=a.useRef(!1);a.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(l,s){if(!r.current||l.defaultPrevented)return;let u=s(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function d(m){return typeof m=="function"?d(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let d of c){if(d===null)continue;let m=d instanceof HTMLElement?d:d.current;if(m!=null&&m.contains(u)||l.composed&&l.composedPath().includes(m))return}return!Ve(u,Le.Loose)&&u.tabIndex!==-1&&l.preventDefault(),t(l,u)}let o=a.useRef(null);ie("pointerdown",l=>{var s,u;r.current&&(o.current=((u=(s=l.composedPath)==null?void 0:s.call(l))==null?void 0:u[0])||l.target)},!0),ie("mousedown",l=>{var s,u;r.current&&(o.current=((u=(s=l.composedPath)==null?void 0:s.call(l))==null?void 0:u[0])||l.target)},!0),ie("click",l=>{ft()||o.current&&(i(l,()=>o.current),o.current=null)},!0),ie("touchend",l=>i(l,()=>l.target instanceof HTMLElement?l.target:null),!0),pt("blur",l=>i(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ke(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function mt(e,t){let[n,r]=a.useState(()=>ke(e));return C(()=>{r(ke(e))},[e.type,e.as]),C(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let bt=Symbol();function Q(...e){let t=a.useRef(e);a.useEffect(()=>{t.current=e},[e]);let n=g(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[bt]))?void 0:n}function Me(e){return[e.screenX,e.screenY]}function ht(){let e=a.useRef([-1,-1]);return{wasMoved(t){let n=Me(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Me(t)}}}function ae(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var ue=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ue||{}),U=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(U||{});function q({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:s}){s=s??gt;let u=Qe(t,e);if(o)return le(u,n,r,l,s);let c=i??0;if(c&2){let{static:d=!1,...m}=u;if(d)return le(m,n,r,l,s)}if(c&1){let{unmount:d=!0,...m}=u;return F(d?0:1,{0(){return null},1(){return le({...m,hidden:!0,style:{display:"none"}},n,r,l,s)}})}return le(u,n,r,l,s)}function le(e,t={},n,r,i){let{as:o=n,children:l,refName:s="ref",...u}=xe(e,["unmount","static"]),c=e.ref!==void 0?{[s]:e.ref}:{},d=typeof l=="function"?l(t):l;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t));let m={};if(t){let y=!1,x=[];for(let[v,b]of Object.entries(t))typeof b=="boolean"&&(y=!0),b===!0&&x.push(v);y&&(m["data-headlessui-state"]=x.join(" "))}if(o===a.Fragment&&Object.keys(Oe(u)).length>0){if(!a.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let y=d.props,x=typeof(y==null?void 0:y.className)=="function"?(...b)=>ae(y==null?void 0:y.className(...b),u.className):ae(y==null?void 0:y.className,u.className),v=x?{className:x}:{};return a.cloneElement(d,Object.assign({},Qe(d.props,Oe(xe(u,["ref"]))),m,c,{ref:i(d.ref,c.ref)},v))}return a.createElement(o,Object.assign({},xe(u,["ref"]),o!==a.Fragment&&c,o!==a.Fragment&&m),d)}function gt(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Qe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...o){let l=n[r];for(let s of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;s(i,...o)}}});return t}function j(e){var t;return Object.assign(a.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Oe(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function xe(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let xt="div";var Ke=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ke||{});function yt(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return q({ourProps:o,theirProps:i,slot:{},defaultTag:xt,name:"Hidden"})}let St=j(yt),Te=a.createContext(null);Te.displayName="OpenClosedContext";var I=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(I||{});function Fe(){return a.useContext(Te)}function We({value:e,children:t}){return T.createElement(Te.Provider,{value:e},t)}function Et(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Ot(n)?!1:r}function Ot(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function wt(e){throw new Error("Unexpected object: "+e)}var $=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))($||{});function Rt(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:wt(e)}}function ze(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))Ye(n,Ge(t,r),i);return n}function Ge(e,t){return e?e+"["+t+"]":t}function Ye(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())Ye(e,Ge(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):ze(n,t,e)}var L=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(L||{});function Pe(){let e=a.useRef(!1);return C(()=>(e.current=!0,()=>{e.current=!1}),[]),e}let je=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function He(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let s of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),o=!0;let l=o?(n=i.innerText)!=null?n:"":r;return je.test(l)&&(l=l.replace(je,"")),l}function Lt(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():He(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return He(e).trim()}function Tt(e){let t=a.useRef(""),n=a.useRef("");return g(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=Lt(r).trim().toLowerCase();return t.current=i,n.current=o,o})}var Ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ft||{}),Pt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Pt||{}),$t=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))($t||{}),It=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(It||{});function ye(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=st(t(e.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Ct={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=ye(e),i=Rt(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var s;return!l.dataRef.current.disabled&&((s=l.dataRef.current.textValue)==null?void 0:s.startsWith(r))}),o=i?e.options.indexOf(i):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ye(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=ye(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},$e=a.createContext(null);$e.displayName="ListboxActionsContext";function te(e){let t=a.useContext($e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,te),n}return t}let Ie=a.createContext(null);Ie.displayName="ListboxDataContext";function ne(e){let t=a.useContext(Ie);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ne),n}return t}function Nt(e,t){return F(t.type,Ct,e,t)}let Dt=a.Fragment;function At(e,t){let{value:n,defaultValue:r,form:i,name:o,onChange:l,by:s=(h,E)=>h===E,disabled:u=!1,horizontal:c=!1,multiple:d=!1,...m}=e;const y=c?"horizontal":"vertical";let x=Q(t),[v=d?[]:void 0,b]=nt(n,l,r),[p,f]=a.useReducer(Nt,{dataRef:a.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),S=a.useRef({static:!1,hold:!1}),R=a.useRef(null),N=a.useRef(null),K=a.useRef(null),O=g(typeof s=="string"?(h,E)=>{let P=s;return(h==null?void 0:h[P])===(E==null?void 0:E[P])}:s),D=a.useCallback(h=>F(w.mode,{1:()=>v.some(E=>O(E,h)),0:()=>O(v,h)}),[v]),w=a.useMemo(()=>({...p,value:v,disabled:u,mode:d?1:0,orientation:y,compare:O,isSelected:D,optionsPropsRef:S,labelRef:R,buttonRef:N,optionsRef:K}),[v,u,d,p]);C(()=>{p.dataRef.current=w},[w]),vt([w.buttonRef,w.optionsRef],(h,E)=>{var P;f({type:1}),Ve(E,Le.Loose)||(h.preventDefault(),(P=w.buttonRef.current)==null||P.focus())},w.listboxState===0);let W=a.useMemo(()=>({open:w.listboxState===0,disabled:u,value:v}),[w,u,v]),z=g(h=>{let E=w.options.find(P=>P.id===h);E&&M(E.dataRef.current.value)}),X=g(()=>{if(w.activeOptionIndex!==null){let{dataRef:h,id:E}=w.options[w.activeOptionIndex];M(h.current.value),f({type:2,focus:$.Specific,id:E})}}),G=g(()=>f({type:0})),J=g(()=>f({type:1})),pe=g((h,E,P)=>h===$.Specific?f({type:2,focus:$.Specific,id:E,trigger:P}):f({type:2,focus:h,trigger:P})),re=g((h,E)=>(f({type:5,id:h,dataRef:E}),()=>f({type:6,id:h}))),ve=g(h=>(f({type:7,id:h}),()=>f({type:7,id:null}))),M=g(h=>F(w.mode,{0(){return b==null?void 0:b(h)},1(){let E=w.value.slice(),P=E.findIndex(oe=>O(oe,h));return P===-1?E.push(h):E.splice(P,1),b==null?void 0:b(E)}})),me=g(h=>f({type:3,value:h})),be=g(()=>f({type:4})),Y=a.useMemo(()=>({onChange:M,registerOption:re,registerLabel:ve,goToOption:pe,closeListbox:J,openListbox:G,selectActiveOption:X,selectOption:z,search:me,clearSearch:be}),[]),Z={ref:x},A=a.useRef(null),he=_();return a.useEffect(()=>{A.current&&r!==void 0&&he.addEventListener(A.current,"reset",()=>{b==null||b(r)})},[A,b]),T.createElement($e.Provider,{value:Y},T.createElement(Ie.Provider,{value:w},T.createElement(We,{value:F(w.listboxState,{0:I.Open,1:I.Closed})},o!=null&&v!=null&&ze({[o]:v}).map(([h,E],P)=>T.createElement(St,{features:Ke.Hidden,ref:P===0?oe=>{var Ce;A.current=(Ce=oe==null?void 0:oe.closest("form"))!=null?Ce:null}:void 0,...Oe({key:h,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:u,name:h,value:E})})),q({ourProps:Z,theirProps:m,slot:W,defaultTag:Dt,name:"Listbox"}))))}let kt="button";function Mt(e,t){var n;let r=se(),{id:i=`headlessui-listbox-button-${r}`,...o}=e,l=ne("Listbox.Button"),s=te("Listbox.Button"),u=Q(l.buttonRef,t),c=_(),d=g(p=>{switch(p.key){case L.Space:case L.Enter:case L.ArrowDown:p.preventDefault(),s.openListbox(),c.nextFrame(()=>{l.value||s.goToOption($.First)});break;case L.ArrowUp:p.preventDefault(),s.openListbox(),c.nextFrame(()=>{l.value||s.goToOption($.Last)});break}}),m=g(p=>{switch(p.key){case L.Space:p.preventDefault();break}}),y=g(p=>{if(Et(p.currentTarget))return p.preventDefault();l.listboxState===0?(s.closeListbox(),c.nextFrame(()=>{var f;return(f=l.buttonRef.current)==null?void 0:f.focus({preventScroll:!0})})):(p.preventDefault(),s.openListbox())}),x=Be(()=>{if(l.labelId)return[l.labelId,i].join(" ")},[l.labelId,i]),v=a.useMemo(()=>({open:l.listboxState===0,disabled:l.disabled,value:l.value}),[l]),b={ref:u,id:i,type:mt(e,l.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=l.optionsRef.current)==null?void 0:n.id,"aria-expanded":l.listboxState===0,"aria-labelledby":x,disabled:l.disabled,onKeyDown:d,onKeyUp:m,onClick:y};return q({ourProps:b,theirProps:o,slot:v,defaultTag:kt,name:"Listbox.Button"})}let jt="label";function Ht(e,t){let n=se(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,o=ne("Listbox.Label"),l=te("Listbox.Label"),s=Q(o.labelRef,t);C(()=>l.registerLabel(r),[r]);let u=g(()=>{var d;return(d=o.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),c=a.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled}),[o]);return q({ourProps:{ref:s,id:r,onClick:u},theirProps:i,slot:c,defaultTag:jt,name:"Listbox.Label"})}let Ut="ul",Bt=ue.RenderStrategy|ue.Static;function qt(e,t){var n;let r=se(),{id:i=`headlessui-listbox-options-${r}`,...o}=e,l=ne("Listbox.Options"),s=te("Listbox.Options"),u=Q(l.optionsRef,t),c=_(),d=_(),m=Fe(),y=(()=>m!==null?(m&I.Open)===I.Open:l.listboxState===0)();a.useEffect(()=>{var f;let S=l.optionsRef.current;S&&l.listboxState===0&&S!==((f=qe(S))==null?void 0:f.activeElement)&&S.focus({preventScroll:!0})},[l.listboxState,l.optionsRef]);let x=g(f=>{switch(d.dispose(),f.key){case L.Space:if(l.searchQuery!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case L.Enter:if(f.preventDefault(),f.stopPropagation(),l.activeOptionIndex!==null){let{dataRef:S}=l.options[l.activeOptionIndex];s.onChange(S.current.value)}l.mode===0&&(s.closeListbox(),B().nextFrame(()=>{var S;return(S=l.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})}));break;case F(l.orientation,{vertical:L.ArrowDown,horizontal:L.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption($.Next);case F(l.orientation,{vertical:L.ArrowUp,horizontal:L.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption($.Previous);case L.Home:case L.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption($.First);case L.End:case L.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption($.Last);case L.Escape:return f.preventDefault(),f.stopPropagation(),s.closeListbox(),c.nextFrame(()=>{var S;return(S=l.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})});case L.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),d.setTimeout(()=>s.clearSearch(),350));break}}),v=Be(()=>{var f;return(f=l.buttonRef.current)==null?void 0:f.id},[l.buttonRef.current]),b=a.useMemo(()=>({open:l.listboxState===0}),[l]),p={"aria-activedescendant":l.activeOptionIndex===null||(n=l.options[l.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":l.mode===1?!0:void 0,"aria-labelledby":v,"aria-orientation":l.orientation,id:i,onKeyDown:x,role:"listbox",tabIndex:0,ref:u};return q({ourProps:p,theirProps:o,slot:b,defaultTag:Ut,features:Bt,visible:y,name:"Listbox.Options"})}let Vt="li";function Qt(e,t){let n=se(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...l}=e,s=ne("Listbox.Option"),u=te("Listbox.Option"),c=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===r:!1,d=s.isSelected(o),m=a.useRef(null),y=Tt(m),x=k({disabled:i,value:o,domRef:m,get textValue(){return y()}}),v=Q(t,m);C(()=>{if(s.listboxState!==0||!c||s.activationTrigger===0)return;let O=B();return O.requestAnimationFrame(()=>{var D,w;(w=(D=m.current)==null?void 0:D.scrollIntoView)==null||w.call(D,{block:"nearest"})}),O.dispose},[m,c,s.listboxState,s.activationTrigger,s.activeOptionIndex]),C(()=>u.registerOption(r,x),[x,r]);let b=g(O=>{if(i)return O.preventDefault();u.onChange(o),s.mode===0&&(u.closeListbox(),B().nextFrame(()=>{var D;return(D=s.buttonRef.current)==null?void 0:D.focus({preventScroll:!0})}))}),p=g(()=>{if(i)return u.goToOption($.Nothing);u.goToOption($.Specific,r)}),f=ht(),S=g(O=>f.update(O)),R=g(O=>{f.wasMoved(O)&&(i||c||u.goToOption($.Specific,r,0))}),N=g(O=>{f.wasMoved(O)&&(i||c&&u.goToOption($.Nothing))}),K=a.useMemo(()=>({active:c,selected:d,disabled:i}),[c,d,i]);return q({ourProps:{id:r,ref:v,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:b,onFocus:p,onPointerEnter:S,onMouseEnter:S,onPointerMove:R,onMouseMove:R,onPointerLeave:N,onMouseLeave:N},theirProps:l,slot:K,defaultTag:Vt,name:"Listbox.Option"})}let Kt=j(At),Wt=j(Mt),zt=j(Ht),Gt=j(qt),Yt=j(Qt),bn=Object.assign(Kt,{Button:Wt,Label:zt,Options:Gt,Option:Yt});function _t(e=0){let[t,n]=a.useState(e),r=Pe(),i=a.useCallback(u=>{r.current&&n(c=>c|u)},[t,r]),o=a.useCallback(u=>!!(t&u),[t]),l=a.useCallback(u=>{r.current&&n(c=>c&~u)},[n,r]),s=a.useCallback(u=>{r.current&&n(c=>c^u)},[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:s}}function Xt(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Se(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ee(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Jt(e,t){let n=B();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[o,l]=[r,i].map(u=>{let[c=0]=u.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,m)=>m-d);return c}),s=o+l;if(s!==0){n.group(c=>{c.setTimeout(()=>{t(),c.dispose()},s),c.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&c.dispose()})});let u=n.addEventListener(e,"transitionend",c=>{c.target===c.currentTarget&&(t(),u())})}else t();return n.add(()=>t()),n.dispose}function Zt(e,t,n,r){let i=n?"enter":"leave",o=B(),l=r!==void 0?Xt(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let s=F(i,{enter:()=>t.enter,leave:()=>t.leave}),u=F(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=F(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Ee(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Se(e,...t.base,...s,...c),o.nextFrame(()=>{Ee(e,...t.base,...s,...c),Se(e,...t.base,...s,...u),Jt(e,()=>(Ee(e,...t.base,...s),Se(e,...t.base,...t.entered),l()))}),o.dispose}function en({immediate:e,container:t,direction:n,classes:r,onStart:i,onStop:o}){let l=Pe(),s=_(),u=k(n);C(()=>{e&&(u.current="enter")},[e]),C(()=>{let c=B();s.add(c.dispose);let d=t.current;if(d&&u.current!=="idle"&&l.current)return c.dispose(),i.current(u.current),c.add(Zt(d,r.current,u.current==="enter",()=>{c.dispose(),o.current(u.current)})),c.dispose},[n])}function H(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ce=a.createContext(null);ce.displayName="TransitionContext";var tn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(tn||{});function nn(){let e=a.useContext(ce);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function rn(){let e=a.useContext(de);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let de=a.createContext(null);de.displayName="NestingContext";function fe(e){return"children"in e?fe(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function _e(e,t){let n=k(e),r=a.useRef([]),i=Pe(),o=_(),l=g((x,v=U.Hidden)=>{let b=r.current.findIndex(({el:p})=>p===x);b!==-1&&(F(v,{[U.Unmount](){r.current.splice(b,1)},[U.Hidden](){r.current[b].state="hidden"}}),o.microTask(()=>{var p;!fe(r)&&i.current&&((p=n.current)==null||p.call(n))}))}),s=g(x=>{let v=r.current.find(({el:b})=>b===x);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:x,state:"visible"}),()=>l(x,U.Unmount)}),u=a.useRef([]),c=a.useRef(Promise.resolve()),d=a.useRef({enter:[],leave:[],idle:[]}),m=g((x,v,b)=>{u.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([p])=>p!==x)),t==null||t.chains.current[v].push([x,new Promise(p=>{u.current.push(p)})]),t==null||t.chains.current[v].push([x,new Promise(p=>{Promise.all(d.current[v].map(([f,S])=>S)).then(()=>p())})]),v==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(v)):b(v)}),y=g((x,v,b)=>{Promise.all(d.current[v].splice(0).map(([p,f])=>f)).then(()=>{var p;(p=u.current.shift())==null||p()}).then(()=>b(v))});return a.useMemo(()=>({children:r,register:s,unregister:l,onStart:m,onStop:y,wait:c,chains:d}),[s,l,r,m,y,d,c])}function on(){}let ln=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Ue(e){var t;let n={};for(let r of ln)n[r]=(t=e[r])!=null?t:on;return n}function an(e){let t=a.useRef(Ue(e));return a.useEffect(()=>{t.current=Ue(e)},[e]),t}let un="div",Xe=ue.RenderStrategy;function sn(e,t){var n,r;let{beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:s,enter:u,enterFrom:c,enterTo:d,entered:m,leave:y,leaveFrom:x,leaveTo:v,...b}=e,p=a.useRef(null),f=Q(p,t),S=(n=b.unmount)==null||n?U.Unmount:U.Hidden,{show:R,appear:N,initial:K}=nn(),[O,D]=a.useState(R?"visible":"hidden"),w=rn(),{register:W,unregister:z}=w;a.useEffect(()=>W(p),[W,p]),a.useEffect(()=>{if(S===U.Hidden&&p.current){if(R&&O!=="visible"){D("visible");return}return F(O,{hidden:()=>z(p),visible:()=>W(p)})}},[O,p,W,z,R,S]);let X=k({base:H(b.className),enter:H(u),enterFrom:H(c),enterTo:H(d),entered:H(m),leave:H(y),leaveFrom:H(x),leaveTo:H(v)}),G=an({beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:s}),J=Re();a.useEffect(()=>{if(J&&O==="visible"&&p.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,O,J]);let pe=K&&!N,re=N&&R&&K,ve=(()=>!J||pe?"idle":R?"enter":"leave")(),M=_t(0),me=g(h=>F(h,{enter:()=>{M.addFlag(I.Opening),G.current.beforeEnter()},leave:()=>{M.addFlag(I.Closing),G.current.beforeLeave()},idle:()=>{}})),be=g(h=>F(h,{enter:()=>{M.removeFlag(I.Opening),G.current.afterEnter()},leave:()=>{M.removeFlag(I.Closing),G.current.afterLeave()},idle:()=>{}})),Y=_e(()=>{D("hidden"),z(p)},w),Z=a.useRef(!1);en({immediate:re,container:p,classes:X,direction:ve,onStart:k(h=>{Z.current=!0,Y.onStart(p,h,me)}),onStop:k(h=>{Z.current=!1,Y.onStop(p,h,be),h==="leave"&&!fe(Y)&&(D("hidden"),z(p))})});let A=b,he={ref:f};return re?A={...A,className:ae(b.className,...X.current.enter,...X.current.enterFrom)}:Z.current&&(A.className=ae(b.className,(r=p.current)==null?void 0:r.className),A.className===""&&delete A.className),T.createElement(de.Provider,{value:Y},T.createElement(We,{value:F(O,{visible:I.Open,hidden:I.Closed})|M.flags},q({ourProps:he,theirProps:A,defaultTag:un,features:Xe,visible:O==="visible",name:"Transition.Child"})))}function cn(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,l=a.useRef(null),s=Q(l,t);Re();let u=Fe();if(n===void 0&&u!==null&&(n=(u&I.Open)===I.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=a.useState(n?"visible":"hidden"),m=_e(()=>{d("hidden")}),[y,x]=a.useState(!0),v=a.useRef([n]);C(()=>{y!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),x(!1))},[v,n]);let b=a.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);a.useEffect(()=>{if(n)d("visible");else if(!fe(m))d("hidden");else{let R=l.current;if(!R)return;let N=R.getBoundingClientRect();N.x===0&&N.y===0&&N.width===0&&N.height===0&&d("hidden")}},[n,m]);let p={unmount:i},f=g(()=>{var R;y&&x(!1),(R=e.beforeEnter)==null||R.call(e)}),S=g(()=>{var R;y&&x(!1),(R=e.beforeLeave)==null||R.call(e)});return T.createElement(de.Provider,{value:m},T.createElement(ce.Provider,{value:b},q({ourProps:{...p,as:a.Fragment,children:T.createElement(Je,{ref:s,...p,...o,beforeEnter:f,beforeLeave:S})},theirProps:{},defaultTag:a.Fragment,features:Xe,visible:c==="visible",name:"Transition"})))}function dn(e,t){let n=a.useContext(ce)!==null,r=Fe()!==null;return T.createElement(T.Fragment,null,!n&&r?T.createElement(we,{ref:t,...e}):T.createElement(Je,{ref:t,...e}))}let we=j(cn),Je=j(sn),fn=j(dn),hn=Object.assign(we,{Child:fn,Root:we});const gn=()=>{const e=ee(o=>o.filters),t=ee(o=>o.setFilter),n=ee(o=>o.resetFilters),r=ee(o=>o.projects),i=ee(o=>o.provinces);return{filters:e,setFilter:t,resetFilters:n,projects:r,provinces:i}};export{bn as I,hn as q,gn as u};
